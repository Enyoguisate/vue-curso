(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d7a0b22"],{"129c":function(e,t,i){"use strict";i("8637")},"212c":function(e,t,i){"use strict";i.r(t);var r=i("7a23"),o=Object(r["L"])("data-v-65474850");Object(r["v"])("data-v-65474850");var a=Object(r["i"])("label",{for:"email"},"Email",-1),n={key:0},s=Object(r["i"])("label",{for:"password"},"Password",-1),l={key:0},c={key:0},u={class:"form-control"};Object(r["t"])();var d=o((function(e,t,i,d,h,p){var m=Object(r["A"])("base-dialog"),b=Object(r["A"])("base-spinner"),f=Object(r["A"])("base-button"),g=Object(r["A"])("base-card");return Object(r["s"])(),Object(r["f"])("div",null,[Object(r["i"])(m,{show:!!h.error,title:"An Error Ocurred Authenticating",onClose:p.closeErrorDialog},{default:o((function(){return[Object(r["h"])(Object(r["D"])(h.error),1)]})),_:1},8,["show","onClose"]),Object(r["i"])(m,{show:h.isLoading,fixed:"",title:"Authenticating..."},{default:o((function(){return[Object(r["i"])(b)]})),_:1},8,["show"]),Object(r["i"])(g,null,{default:o((function(){return[Object(r["i"])("form",{onSubmit:t[7]||(t[7]=Object(r["K"])((function(){return p.submitForm.apply(p,arguments)}),["prevent"]))},[Object(r["i"])("h1",null,Object(r["D"])(p.formHeader),1),Object(r["i"])("div",{class:["form-control",{errors:!h.email.isValid&&h.email.touched}]},[a,Object(r["J"])(Object(r["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return h.email.value=e}),placeholder:"Enter you email",onBlur:t[2]||(t[2]=function(){return p.validateForm.apply(p,arguments)}),onChange:t[3]||(t[3]=function(){return p.emailChanged.apply(p,arguments)})},null,544),[[r["G"],h.email.value,void 0,{trim:!0}]]),h.email.isValid?Object(r["g"])("",!0):(Object(r["s"])(),Object(r["f"])("p",n," The email field is required and must not be empty "))],2),Object(r["i"])("div",{class:["form-control",{errors:!h.password.isValid&&h.password.touched}]},[s,Object(r["J"])(Object(r["i"])("input",{type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return h.password.value=e}),placeholder:"Enter your password",onBlur:t[5]||(t[5]=function(){return p.validateForm.apply(p,arguments)}),onChange:t[6]||(t[6]=function(){return p.passwordChanged.apply(p,arguments)})},null,544),[[r["G"],h.password.value,void 0,{trim:!0}]]),h.password.isValid?Object(r["g"])("",!0):(Object(r["s"])(),Object(r["f"])("p",l," The password field is required and must not be empty "))],2),h.isValidForm?Object(r["g"])("",!0):(Object(r["s"])(),Object(r["f"])("div",c,[Object(r["i"])("p",{class:{errors:!h.isValidForm}}," You must complete both fields to login ",2)])),Object(r["i"])("div",u,[Object(r["i"])(f,{type:"submit",link:!1},{default:o((function(){return[Object(r["h"])(Object(r["D"])(p.changeLoginCaption),1)]})),_:1}),Object(r["i"])(f,{type:"button",link:!1,mode:"outlined",onClick:p.switchAuthMode},{default:o((function(){return[Object(r["h"])(Object(r["D"])(p.changeSwitchCaption),1)]})),_:1},8,["onClick"])])],32)]})),_:1})])})),h=(i("ac1f"),i("5319"),i("96cf"),i("1da1")),p={data:function(){return{email:{value:"",isValid:!0,touched:!1},password:{value:"",isValid:!0,touched:!1},isValidForm:!0,mode:"login",isLoading:!1,error:null}},methods:{submitForm:function(){"login"===this.mode?this.login():this.signup()},login:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.email.touched||!e.password.touched){t.next=14;break}if(e.validateForm(),!e.isValidForm){t.next=14;break}return t.prev=3,e.isLoading=!0,t.next=7,e.$store.dispatch("login",{email:e.email.value,password:e.password.value}).then((function(){e.isLoading=!1;var t="/"+(e.$route.query.redirect||"coaches");e.$router.replace(t)}));case 7:t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](3),console.log("error",t.t0),e.error=t.t0||"Failed to Authenticate, try later.",e.isLoading=!1;case 14:case"end":return t.stop()}}),t,null,[[3,9]])})))()},signup:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.email.touched||!e.password.touched){t.next=15;break}if(e.validateForm(),!e.isValidForm){t.next=15;break}return t.prev=3,e.isLoading=!0,t.next=7,e.$store.dispatch("signup",{email:e.email.value,password:e.password.value}).then((function(){e.isLoading=!1,e.$router.go("/auth")}));case 7:t.next=15;break;case 9:t.prev=9,t.t0=t["catch"](3),console.log("error",t.t0),e.error=t.t0||"Failed to Authenticate, try later.",e.isLoading=!1,e.$router.replace("/auth");case 15:case"end":return t.stop()}}),t,null,[[3,9]])})))()},switchAuthMode:function(){"login"===this.mode?(this.mode="signup",this.clearFields()):(this.mode="login",this.clearFields())},validateForm:function(){this.setValidForm(),""===this.email.value?(this.email.isValid=!1,this.setinvalidForm()):this.email.isValid=!0,""===this.password.value?(this.password.isValid=!1,this.setinvalidForm()):this.password.isValid=!0},emailChanged:function(){this.email.touched=!0},passwordChanged:function(){this.password.touched=!0},setinvalidForm:function(){this.isValidForm=!1},setValidForm:function(){this.isValidForm=!0},clearFields:function(){this.email.value=null,this.password.value=null,this.email.touched=!1,this.password.touched=!1},closeErrorDialog:function(){this.error=null}},computed:{formHeader:function(){return this.mode.toUpperCase()},changeLoginCaption:function(){return"login"===this.mode?"Login":"Signup"},changeSwitchCaption:function(){return"login"===this.mode?"Signup instead":"Login"}}};i("129c");p.render=d,p.__scopeId="data-v-65474850";t["default"]=p},8637:function(e,t,i){}}]);
//# sourceMappingURL=chunk-5d7a0b22.a8014e8d.js.map